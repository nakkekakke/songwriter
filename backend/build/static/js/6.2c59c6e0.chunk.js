(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[6],{149:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(133),i=n(137),c=Object(o.a)((function(){return{header:{marginTop:30}}}));t.a=function(e){var t=e.text,n=c();return r.a.createElement(i.a,{component:"h1",variant:"h4",className:n.header},t)}},153:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(201),i=n(202),c=n(137),s=n(133),u=n(200),l=n(19),m=n(23),d=n(146),p=n(13),f=function(e){var t=e.loggedIn,n=Object(l.b)(),a=Object(d.k)();return r.a.createElement(u.a,{color:"inherit",onClick:function(){t&&(n(Object(m.e)()),n(Object(p.d)(p.a.logout))),a.push("/")}},t?"Log out":"Log in")},g=n(147),b=Object(s.a)((function(){return{navButton:{textDecoration:"none",color:"white",padding:20}}})),v=function(e){var t=e.path,n=e.text,a=e.onClick,o=b();return r.a.createElement(u.a,{component:g.Link,to:t,onClick:a,color:"inherit",className:o.navButton},n)},h=Object(s.a)((function(){return{root:{flex:1}}})),E=function(e){var t=e.loggedIn,n=h();return r.a.createElement("div",{className:n.root},t?r.a.createElement(v,{path:"/songs/",text:"Your songs"}):void 0)},j=Object(s.a)((function(){return{root:{flexGrow:1},title:{fontSize:20,paddingRight:15}}}));t.a=function(e){var t=e.loggedIn,n=j();return r.a.createElement("div",{className:n.root},r.a.createElement(o.a,{position:"static"},r.a.createElement(i.a,null,r.a.createElement(c.a,{className:n.title},"SongWriter"),r.a.createElement(E,{loggedIn:t}),r.a.createElement(f,{loggedIn:t}))))}},220:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(153),i=n(147),c=n(146),s=n(133),u=n(135),l=n(3),m=n.n(l),d=n(9),p=n(150),f=n(1),g=n(2),b=(n(7),n(4)),v=n(6),h=a.forwardRef((function(e,t){var n=e.classes,r=e.className,o=e.row,i=void 0!==o&&o,c=Object(g.a)(e,["classes","className","row"]);return a.createElement("div",Object(f.a)({className:Object(b.a)(n.root,r,i&&n.row),ref:t},c))})),E=Object(v.a)({root:{display:"flex",flexDirection:"column",flexWrap:"wrap"},row:{flexDirection:"row"}},{name:"MuiFormGroup"})(h),j=n(217),O=n(200),w=n(10),x=n(51),y=n(18),N=n(137),C=a.forwardRef((function(e,t){var n=e.classes,r=e.className,o=e.color,i=void 0===o?"primary":o,c=e.component,s=void 0===c?"a":c,u=e.onBlur,l=e.onFocus,m=e.TypographyClasses,d=e.underline,p=void 0===d?"hover":d,v=e.variant,h=void 0===v?"inherit":v,E=Object(g.a)(e,["classes","className","color","component","onBlur","onFocus","TypographyClasses","underline","variant"]),j=Object(x.a)(),O=j.isFocusVisible,C=j.onBlurVisible,k=j.ref,S=a.useState(!1),B=S[0],D=S[1],T=Object(y.a)(t,k);return a.createElement(N.a,Object(f.a)({className:Object(b.a)(n.root,n["underline".concat(Object(w.a)(p))],r,B&&n.focusVisible,"button"===s&&n.button),classes:m,color:i,component:s,onBlur:function(e){B&&(C(),D(!1)),u&&u(e)},onFocus:function(e){O(e)&&D(!0),l&&l(e)},ref:T,variant:h},E))})),k=Object(v.a)({root:{},underlineNone:{textDecoration:"none"},underlineHover:{textDecoration:"none","&:hover":{textDecoration:"underline"}},underlineAlways:{textDecoration:"underline"},button:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none","&::-moz-focus-inner":{borderStyle:"none"},"&$focusVisible":{outline:"auto"}},focusVisible:{}},{name:"MuiLink"})(C),S=n(19),B=n(23),D=n(149),T=Object(s.a)((function(){return{header:{marginTop:30},form:{marginTop:25,marginBottom:12},input:{marginBottom:20},loginButton:{},linkContainer:{}}})),R=function(){var e=Object(a.useState)(""),t=Object(p.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)(""),s=Object(p.a)(c,2),l=s[0],f=s[1],g=Object(S.b)(),b=T(),v=function(){var e=Object(d.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),g(Object(B.c)(n,l));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(u.a,{maxWidth:"xs",align:"center",className:b.contentContainer},r.a.createElement(D.a,{text:"Log in"}),r.a.createElement("form",{onSubmit:v,className:b.form},r.a.createElement(E,null,r.a.createElement(j.a,{required:!0,variant:"outlined",name:"username",label:"Username",id:"username",autoFocus:!0,autoComplete:"username",onChange:function(e){o(e.target.value)},className:b.input}),r.a.createElement(j.a,{required:!0,variant:"outlined",name:"password",label:"Password",id:"password",type:"password",autoComplete:"current-password",onChange:function(e){f(e.target.value)},className:b.input}),r.a.createElement(O.a,{type:"submit",variant:"contained",color:"primary",size:"medium",className:b.loginButton},"Login"))),r.a.createElement(u.a,{align:"right",className:b.linkContainer},r.a.createElement(k,{component:i.Link,to:"/signup"},"Don't have an account yet? Sign up here.")))},H=n(5),L=n(37),F=n(112),I=n(30),A=n(41),M=n(50),W=a.forwardRef((function(e,t){var n=e.children,r=e.classes,o=e.className,i=e.collapsedHeight,c=void 0===i?"0px":i,s=e.component,u=void 0===s?"div":s,l=e.disableStrictModeCompat,m=void 0!==l&&l,d=e.in,p=e.onEnter,v=e.onEntered,h=e.onEntering,E=e.onExit,j=e.onExited,O=e.onExiting,w=e.style,x=e.timeout,N=void 0===x?I.b.standard:x,C=e.TransitionComponent,k=void 0===C?F.a:C,S=Object(g.a)(e,["children","classes","className","collapsedHeight","component","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),B=Object(M.a)(),D=a.useRef(),T=a.useRef(null),R=a.useRef(),H="number"===typeof c?"".concat(c,"px"):c;a.useEffect((function(){return function(){clearTimeout(D.current)}}),[]);var W=B.unstable_strictMode&&!m,z=a.useRef(null),V=Object(y.a)(t,W?z:void 0),q=function(e){return function(t,n){if(e){var a=W?[z.current,t]:[t,n],r=Object(L.a)(a,2),o=r[0],i=r[1];void 0===i?e(o):e(o,i)}}},U=q((function(e,t){e.style.height=H,p&&p(e,t)})),P=q((function(e,t){var n=T.current?T.current.clientHeight:0,a=Object(A.a)({style:w,timeout:N},{mode:"enter"}).duration;if("auto"===N){var r=B.transitions.getAutoHeightDuration(n);e.style.transitionDuration="".concat(r,"ms"),R.current=r}else e.style.transitionDuration="string"===typeof a?a:"".concat(a,"ms");e.style.height="".concat(n,"px"),h&&h(e,t)})),G=q((function(e,t){e.style.height="auto",v&&v(e,t)})),J=q((function(e){var t=T.current?T.current.clientHeight:0;e.style.height="".concat(t,"px"),E&&E(e)})),Y=q(j),$=q((function(e){var t=T.current?T.current.clientHeight:0,n=Object(A.a)({style:w,timeout:N},{mode:"exit"}).duration;if("auto"===N){var a=B.transitions.getAutoHeightDuration(t);e.style.transitionDuration="".concat(a,"ms"),R.current=a}else e.style.transitionDuration="string"===typeof n?n:"".concat(n,"ms");e.style.height=H,O&&O(e)}));return a.createElement(k,Object(f.a)({in:d,onEnter:U,onEntered:G,onEntering:P,onExit:J,onExited:Y,onExiting:$,addEndListener:function(e,t){var n=W?e:t;"auto"===N&&(D.current=setTimeout(n,R.current||0))},nodeRef:W?z:void 0,timeout:"auto"===N?null:N},S),(function(e,t){return a.createElement(u,Object(f.a)({className:Object(b.a)(r.container,o,{entered:r.entered,exited:!d&&"0px"===H&&r.hidden}[e]),style:Object(f.a)({minHeight:H},w),ref:V},t),a.createElement("div",{className:r.wrapper,ref:T},a.createElement("div",{className:r.wrapperInner},n)))}))}));W.muiSupportAuto=!0;var z=Object(v.a)((function(e){return{container:{height:0,overflow:"hidden",transition:e.transitions.create("height")},entered:{height:"auto",overflow:"visible"},hidden:{visibility:"hidden"},wrapper:{display:"flex"},wrapperInner:{width:"100%"}}}),{name:"MuiCollapse"})(W),V=n(143),q=n(13),U=n(39),P=n.n(U),G="/api/users",J={signup:function(){var e=Object(d.a)(m.a.mark((function e(t,n){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.post(G,{username:t,password:n});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),usernameAvailable:function(){var e=Object(d.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.post(G+"/username-available",{username:t});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Y=Object(s.a)((function(){return{alert:{marginBottom:10},form:{marginTop:25,marginBottom:12},input:{marginBottom:20},loginButton:{},linkContainer:{}}})),$=function(){var e=Object(a.useState)(""),t=Object(p.a)(e,2),n=t[0],o=t[1],s=Object(a.useState)(""),l=Object(p.a)(s,2),f=l[0],g=l[1],b=Object(a.useState)({username:"",password:""}),v=Object(p.a)(b,2),h=v[0],w=v[1],x=Object(a.useState)(!1),y=Object(p.a)(x,2),N=y[0],C=y[1],B=Object(S.b)(),T=Y(),R=Object(c.k)(),L=function(){var e=Object(d.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,J.signup(n,f);case 4:a=e.sent,console.log("Signed up:",a),B(Object(q.d)(q.a.signupSuccess)),R.push("/"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),C(!0),setTimeout((function(){return C(!1)}),3e3);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(u.a,{maxWidth:"xs",align:"center",className:T.contentContainer},r.a.createElement(D.a,{text:"Sign up"}),r.a.createElement("form",{onSubmit:L,className:T.form,autoComplete:"off"},r.a.createElement(E,null,r.a.createElement(z,{in:N},r.a.createElement(V.a,{severity:"error",variant:"filled",className:T.alert},"Username already taken!")),r.a.createElement(j.a,{required:!0,variant:"outlined",name:"username",label:"Username",id:"username",autoFocus:!0,autoComplete:"username",onChange:function(e){o(e.target.value),function(e){e.length<3||e.length>50?w(Object(H.a)(Object(H.a)({},h),{},{username:"Username length must be 3-50 characters"})):w(Object(H.a)(Object(H.a)({},h),{},{username:""}))}(e.target.value)},className:T.input,error:""!==h.username,helperText:h.username}),r.a.createElement(j.a,{required:!0,variant:"outlined",name:"password",label:"Password",id:"password",type:"password",autoComplete:"current-password",onChange:function(e){g(e.target.value),function(e){e.length<5||e.length>50?w(Object(H.a)(Object(H.a)({},h),{},{password:"Password length must be 5-50 characters"})):w(Object(H.a)(Object(H.a)({},h),{},{password:""}))}(e.target.value)},className:T.input,error:""!==h.password,helperText:h.password}),r.a.createElement(O.a,{type:"submit",variant:"contained",color:"primary",size:"medium",className:T.loginButton,disabled:""!==h.password||""!==h.username},"Sign up"))),r.a.createElement(u.a,{align:"left",className:T.linkContainer},r.a.createElement(k,{component:i.Link,to:"/"},"Back to login page.")))},_=Object(s.a)((function(){return{mainContainer:{justifyContent:"center",alignItems:"center",padding:20}}}));t.default=function(){var e=_();return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.BrowserRouter,null,r.a.createElement(o.a,null),r.a.createElement(u.a,{maxWidth:"sm",className:e.mainContainer},r.a.createElement(c.g,null,r.a.createElement(c.d,{path:"/signup"},r.a.createElement($,null)),r.a.createElement(c.d,{path:"/"},r.a.createElement(R,null))))))}}}]);
//# sourceMappingURL=6.2c59c6e0.chunk.js.map