(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[6],{151:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(193),i=n(194),c=n(136),s=n(132),u=n(192),l=n(19),m=n(23),d=n(145),p=n(15),f=function(e){var t=e.loggedIn,n=Object(l.b)(),a=Object(d.k)();return r.a.createElement(u.a,{color:"inherit",onClick:function(){t&&(n(Object(m.e)()),n(Object(p.d)(p.a.logout))),a.push("/")}},t?"Log out":"Log in")},g=n(146),b=Object(s.a)((function(){return{navButton:{textDecoration:"none",color:"white",padding:20}}})),v=function(e){var t=e.path,n=e.text,a=e.onClick,o=b();return r.a.createElement(u.a,{component:g.Link,to:t,onClick:a,color:"inherit",className:o.navButton},n)},h=Object(s.a)((function(){return{root:{flex:1}}})),E=function(e){var t=e.loggedIn,n=h();return r.a.createElement("div",{className:n.root},t?r.a.createElement(v,{path:"/songs/",text:"Your songs"}):void 0)},j=Object(s.a)((function(){return{root:{flexGrow:1},title:{fontSize:20,paddingRight:15}}}));t.a=function(e){var t=e.loggedIn,n=j();return r.a.createElement("div",{className:n.root},r.a.createElement(o.a,{position:"static"},r.a.createElement(i.a,null,r.a.createElement(c.a,{className:n.title},"SongWriter"),r.a.createElement(E,{loggedIn:t}),r.a.createElement(f,{loggedIn:t}))))}},209:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(151),i=n(146),c=n(145),s=n(132),u=n(134),l=n(2),m=n.n(l),d=n(6),p=n(148),f=n(136),g=n(1),b=n(3),v=(n(8),n(4)),h=n(7),E=a.forwardRef((function(e,t){var n=e.classes,r=e.className,o=e.row,i=void 0!==o&&o,c=Object(b.a)(e,["classes","className","row"]);return a.createElement("div",Object(g.a)({className:Object(v.a)(n.root,r,i&&n.row),ref:t},c))})),j=Object(h.a)({root:{display:"flex",flexDirection:"column",flexWrap:"wrap"},row:{flexDirection:"row"}},{name:"MuiFormGroup"})(E),O=n(206),w=n(192),x=n(10),y=n(61),N=n(18),C=a.forwardRef((function(e,t){var n=e.classes,r=e.className,o=e.color,i=void 0===o?"primary":o,c=e.component,s=void 0===c?"a":c,u=e.onBlur,l=e.onFocus,m=e.TypographyClasses,d=e.underline,p=void 0===d?"hover":d,h=e.variant,E=void 0===h?"inherit":h,j=Object(b.a)(e,["classes","className","color","component","onBlur","onFocus","TypographyClasses","underline","variant"]),O=Object(y.a)(),w=O.isFocusVisible,C=O.onBlurVisible,k=O.ref,S=a.useState(!1),B=S[0],D=S[1],T=Object(N.a)(t,k);return a.createElement(f.a,Object(g.a)({className:Object(v.a)(n.root,n["underline".concat(Object(x.a)(p))],r,B&&n.focusVisible,"button"===s&&n.button),classes:m,color:i,component:s,onBlur:function(e){B&&(C(),D(!1)),u&&u(e)},onFocus:function(e){w(e)&&D(!0),l&&l(e)},ref:T,variant:E},j))})),k=Object(h.a)({root:{},underlineNone:{textDecoration:"none"},underlineHover:{textDecoration:"none","&:hover":{textDecoration:"underline"}},underlineAlways:{textDecoration:"underline"},button:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none","&::-moz-focus-inner":{borderStyle:"none"},"&$focusVisible":{outline:"auto"}},focusVisible:{}},{name:"MuiLink"})(C),S=n(19),B=n(23),D=Object(s.a)((function(){return{header:{marginTop:30},form:{marginTop:25,marginBottom:12},input:{marginBottom:20},loginButton:{},linkContainer:{}}})),T=function(){var e=Object(a.useState)(""),t=Object(p.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)(""),s=Object(p.a)(c,2),l=s[0],g=s[1],b=Object(S.b)(),v=D(),h=function(){var e=Object(d.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),b(Object(B.c)(n,l));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(u.a,{maxWidth:"xs",align:"center",className:v.contentContainer},r.a.createElement(f.a,{component:"h1",variant:"h4",className:v.header},"Log in"),r.a.createElement("form",{onSubmit:h,className:v.form},r.a.createElement(j,null,r.a.createElement(O.a,{required:!0,variant:"outlined",name:"username",label:"Username",id:"username",autoFocus:!0,autoComplete:"username",onChange:function(e){o(e.target.value)},className:v.input}),r.a.createElement(O.a,{required:!0,variant:"outlined",name:"password",label:"Password",id:"password",type:"password",autoComplete:"current-password",onChange:function(e){g(e.target.value)},className:v.input}),r.a.createElement(w.a,{type:"submit",variant:"contained",color:"primary",size:"medium",className:v.loginButton},"Login"))),r.a.createElement(u.a,{align:"right",className:v.linkContainer},r.a.createElement(k,{component:i.Link,to:"/signup"},"Don't have an account yet? Sign up here.")))},R=n(5),H=n(36),L=n(111),F=n(29),I=n(40),A=n(49),M=a.forwardRef((function(e,t){var n=e.children,r=e.classes,o=e.className,i=e.collapsedHeight,c=void 0===i?"0px":i,s=e.component,u=void 0===s?"div":s,l=e.disableStrictModeCompat,m=void 0!==l&&l,d=e.in,p=e.onEnter,f=e.onEntered,h=e.onEntering,E=e.onExit,j=e.onExited,O=e.onExiting,w=e.style,x=e.timeout,y=void 0===x?F.b.standard:x,C=e.TransitionComponent,k=void 0===C?L.a:C,S=Object(b.a)(e,["children","classes","className","collapsedHeight","component","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),B=Object(A.a)(),D=a.useRef(),T=a.useRef(null),R=a.useRef(),M="number"===typeof c?"".concat(c,"px"):c;a.useEffect((function(){return function(){clearTimeout(D.current)}}),[]);var W=B.unstable_strictMode&&!m,z=a.useRef(null),V=Object(N.a)(t,W?z:void 0),q=function(e){return function(t,n){if(e){var a=W?[z.current,t]:[t,n],r=Object(H.a)(a,2),o=r[0],i=r[1];void 0===i?e(o):e(o,i)}}},U=q((function(e,t){e.style.height=M,p&&p(e,t)})),P=q((function(e,t){var n=T.current?T.current.clientHeight:0,a=Object(I.a)({style:w,timeout:y},{mode:"enter"}).duration;if("auto"===y){var r=B.transitions.getAutoHeightDuration(n);e.style.transitionDuration="".concat(r,"ms"),R.current=r}else e.style.transitionDuration="string"===typeof a?a:"".concat(a,"ms");e.style.height="".concat(n,"px"),h&&h(e,t)})),G=q((function(e,t){e.style.height="auto",f&&f(e,t)})),J=q((function(e){var t=T.current?T.current.clientHeight:0;e.style.height="".concat(t,"px"),E&&E(e)})),Y=q(j),$=q((function(e){var t=T.current?T.current.clientHeight:0,n=Object(I.a)({style:w,timeout:y},{mode:"exit"}).duration;if("auto"===y){var a=B.transitions.getAutoHeightDuration(t);e.style.transitionDuration="".concat(a,"ms"),R.current=a}else e.style.transitionDuration="string"===typeof n?n:"".concat(n,"ms");e.style.height=M,O&&O(e)}));return a.createElement(k,Object(g.a)({in:d,onEnter:U,onEntered:G,onEntering:P,onExit:J,onExited:Y,onExiting:$,addEndListener:function(e,t){var n=W?e:t;"auto"===y&&(D.current=setTimeout(n,R.current||0))},nodeRef:W?z:void 0,timeout:"auto"===y?null:y},S),(function(e,t){return a.createElement(u,Object(g.a)({className:Object(v.a)(r.container,o,{entered:r.entered,exited:!d&&"0px"===M&&r.hidden}[e]),style:Object(g.a)({minHeight:M},w),ref:V},t),a.createElement("div",{className:r.wrapper,ref:T},a.createElement("div",{className:r.wrapperInner},n)))}))}));M.muiSupportAuto=!0;var W=Object(h.a)((function(e){return{container:{height:0,overflow:"hidden",transition:e.transitions.create("height")},entered:{height:"auto",overflow:"visible"},hidden:{visibility:"hidden"},wrapper:{display:"flex"},wrapperInner:{width:"100%"}}}),{name:"MuiCollapse"})(M),z=n(142),V=n(15),q=n(38),U=n.n(q),P="/api/users",G={signup:function(){var e=Object(d.a)(m.a.mark((function e(t,n){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.a.post(P,{username:t,password:n});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),usernameAvailable:function(){var e=Object(d.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.a.post(P+"/username-available",{username:t});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},J=Object(s.a)((function(){return{header:{marginTop:30},alert:{marginBottom:10},form:{marginTop:25,marginBottom:12},input:{marginBottom:20},loginButton:{},linkContainer:{}}})),Y=function(){var e=Object(a.useState)(""),t=Object(p.a)(e,2),n=t[0],o=t[1],s=Object(a.useState)(""),l=Object(p.a)(s,2),g=l[0],b=l[1],v=Object(a.useState)({username:"",password:""}),h=Object(p.a)(v,2),E=h[0],x=h[1],y=Object(a.useState)(!1),N=Object(p.a)(y,2),C=N[0],B=N[1],D=Object(S.b)(),T=J(),H=Object(c.k)(),L=function(){var e=Object(d.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,G.signup(n,g);case 4:a=e.sent,console.log("Signed up:",a),D(Object(V.d)(V.a.signupSuccess)),H.push("/"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),B(!0),setTimeout((function(){return B(!1)}),3e3);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(u.a,{maxWidth:"xs",align:"center",className:T.contentContainer},r.a.createElement(f.a,{component:"h1",variant:"h4",className:T.header},"Sign up"),r.a.createElement("form",{onSubmit:L,className:T.form,autoComplete:"off"},r.a.createElement(j,null,r.a.createElement(W,{in:C},r.a.createElement(z.a,{severity:"error",variant:"filled",className:T.alert},"Username already taken!")),r.a.createElement(O.a,{required:!0,variant:"outlined",name:"username",label:"Username",id:"username",autoFocus:!0,autoComplete:"username",onChange:function(e){o(e.target.value),function(e){e.length<3||e.length>50?x(Object(R.a)(Object(R.a)({},E),{},{username:"Username length must be 3-50 characters"})):x(Object(R.a)(Object(R.a)({},E),{},{username:""}))}(e.target.value)},className:T.input,error:""!==E.username,helperText:E.username}),r.a.createElement(O.a,{required:!0,variant:"outlined",name:"password",label:"Password",id:"password",type:"password",autoComplete:"current-password",onChange:function(e){b(e.target.value),function(e){e.length<5||e.length>50?x(Object(R.a)(Object(R.a)({},E),{},{password:"Password length must be 5-50 characters"})):x(Object(R.a)(Object(R.a)({},E),{},{password:""}))}(e.target.value)},className:T.input,error:""!==E.password,helperText:E.password}),r.a.createElement(w.a,{type:"submit",variant:"contained",color:"primary",size:"medium",className:T.loginButton,disabled:""!==E.password||""!==E.username},"Sign up"))),r.a.createElement(u.a,{align:"left",className:T.linkContainer},r.a.createElement(k,{component:i.Link,to:"/"},"Back to login page.")))},$=Object(s.a)((function(){return{mainContainer:{justifyContent:"center",alignItems:"center",padding:20}}}));t.default=function(){var e=$();return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.BrowserRouter,null,r.a.createElement(o.a,null),r.a.createElement(u.a,{maxWidth:"sm",className:e.mainContainer},r.a.createElement(c.g,null,r.a.createElement(c.d,{path:"/signup"},r.a.createElement(Y,null)),r.a.createElement(c.d,{path:"/"},r.a.createElement(T,null))))))}}}]);
//# sourceMappingURL=6.d061748d.chunk.js.map