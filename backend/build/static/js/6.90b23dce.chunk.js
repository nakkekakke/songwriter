(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[6],{182:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(164),i=n(168),c=Object(o.a)((function(){return{header:{marginTop:30}}}));t.a=function(e){var t=e.text,n=c();return r.a.createElement(i.a,{component:"h1",variant:"h4",className:n.header},t)}},190:function(e,t,n){"use strict";var a=n(4),r=n.n(a),o=n(9),i=n(39),c=n.n(i),s=n(61),u="/api/users",l=function(){var e=Object(o.a)(r.a.mark((function e(t,n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.post(u,{username:t,password:n});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),m=function(){var e=Object(o.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.post(u+"/username-available",{username:t});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(o.a)(r.a.mark((function e(t,n){var a,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.map((function(e){return e.id})),e.next=3,c.a.put(u+"/songs",{username:t,songIds:a},{headers:Object(s.a)()});case 3:return o=e.sent,e.abrupt("return",o.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();t.a={create:l,usernameAvailable:m,editSongs:d}},191:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(236),i=n(237),c=n(168),s=n(164),u=n(234),l=n(19),m=n(23),d=n(178),p=n(12),f=function(e){var t=e.loggedIn,n=Object(l.b)(),a=Object(d.k)();return r.a.createElement(u.a,{color:"inherit",onClick:function(){t&&(n(Object(m.e)()),n(Object(p.d)(p.a.logout))),a.push("/")}},t?"Log out":"Log in")},b=n(179),g=Object(s.a)((function(){return{navButton:{textDecoration:"none",color:"white",padding:20}}})),h=function(e){var t=e.path,n=e.text,a=e.onClick,o=g();return r.a.createElement(u.a,{component:b.Link,to:t,onClick:a,color:"inherit",className:o.navButton},n)},v=Object(s.a)((function(){return{root:{flex:1}}})),E=function(e){var t=e.loggedIn,n=v();return r.a.createElement("div",{className:n.root},t?r.a.createElement(h,{path:"/songs/",text:"Your songs"}):r.a.createElement("span",null))},j=n(235),O=n(259),w=n(59),x=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.statuses.darkMode}));return r.a.createElement(j.a,{control:r.a.createElement(O.a,{checked:t,onChange:function(){return e(Object(w.d)())},color:"secondary"}),label:"Dark mode",labelPlacement:"top",style:{margin:6,marginRight:30}})},y=Object(s.a)((function(){return{root:{flexGrow:1},title:{fontSize:20,paddingRight:15}}}));t.a=function(e){var t=e.loggedIn,n=y();return r.a.createElement("div",{className:n.root},r.a.createElement(o.a,{position:"static"},r.a.createElement(i.a,null,r.a.createElement(c.a,{className:n.title},"SongWriter"),r.a.createElement(E,{loggedIn:t}),r.a.createElement(x,null),r.a.createElement(f,{loggedIn:t}))))}},255:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(191),i=n(179),c=n(178),s=n(164),u=n(166),l=n(4),m=n.n(l),d=n(9),p=n(184),f=n(1),b=n(2),g=(n(6),n(5)),h=n(7),v=a.forwardRef((function(e,t){var n=e.classes,r=e.className,o=e.row,i=void 0!==o&&o,c=Object(b.a)(e,["classes","className","row"]);return a.createElement("div",Object(f.a)({className:Object(g.a)(n.root,r,i&&n.row),ref:t},c))})),E=Object(h.a)({root:{display:"flex",flexDirection:"column",flexWrap:"wrap"},row:{flexDirection:"row"}},{name:"MuiFormGroup"})(v),j=n(252),O=n(234),w=n(11),x=n(60),y=n(18),k=n(168),N=a.forwardRef((function(e,t){var n=e.classes,r=e.className,o=e.color,i=void 0===o?"primary":o,c=e.component,s=void 0===c?"a":c,u=e.onBlur,l=e.onFocus,m=e.TypographyClasses,d=e.underline,p=void 0===d?"hover":d,h=e.variant,v=void 0===h?"inherit":h,E=Object(b.a)(e,["classes","className","color","component","onBlur","onFocus","TypographyClasses","underline","variant"]),j=Object(x.a)(),O=j.isFocusVisible,N=j.onBlurVisible,C=j.ref,S=a.useState(!1),D=S[0],T=S[1],B=Object(y.a)(t,C);return a.createElement(k.a,Object(f.a)({className:Object(g.a)(n.root,n["underline".concat(Object(w.a)(p))],r,D&&n.focusVisible,"button"===s&&n.button),classes:m,color:i,component:s,onBlur:function(e){D&&(N(),T(!1)),u&&u(e)},onFocus:function(e){O(e)&&T(!0),l&&l(e)},ref:B,variant:v},E))})),C=Object(h.a)({root:{},underlineNone:{textDecoration:"none"},underlineHover:{textDecoration:"none","&:hover":{textDecoration:"underline"}},underlineAlways:{textDecoration:"underline"},button:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none","&::-moz-focus-inner":{borderStyle:"none"},"&$focusVisible":{outline:"auto"}},focusVisible:{}},{name:"MuiLink"})(N),S=n(19),D=n(23),T=n(182),B=Object(s.a)((function(e){return{header:{marginTop:30},form:{marginTop:25,marginBottom:12},input:{marginBottom:20},link:{color:e.palette.primary.light}}})),R=function(){var e=Object(a.useState)(""),t=Object(p.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)(""),s=Object(p.a)(c,2),l=s[0],f=s[1],b=Object(S.b)(),g=B(),h=function(){var e=Object(d.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),b(Object(D.c)(n,l));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(u.a,{maxWidth:"xs",align:"center"},r.a.createElement(T.a,{text:"Log in"}),r.a.createElement("form",{onSubmit:h,className:g.form},r.a.createElement(E,null,r.a.createElement(j.a,{required:!0,variant:"outlined",name:"username",label:"Username",id:"username",autoFocus:!0,autoComplete:"username",onChange:function(e){o(e.target.value)},className:g.input}),r.a.createElement(j.a,{required:!0,variant:"outlined",name:"password",label:"Password",id:"password",type:"password",autoComplete:"current-password",onChange:function(e){f(e.target.value)},className:g.input}),r.a.createElement(O.a,{type:"submit",variant:"contained",color:"primary",size:"medium"},"Log in"))),r.a.createElement(u.a,{align:"right"},r.a.createElement(C,{component:i.Link,to:"/signup",className:g.link},"Don't have an account yet? Sign up here.")))},H=n(3),I=n(38),L=n(144),F=n(31),M=n(44),A=n(57),W=a.forwardRef((function(e,t){var n=e.children,r=e.classes,o=e.className,i=e.collapsedHeight,c=void 0===i?"0px":i,s=e.component,u=void 0===s?"div":s,l=e.disableStrictModeCompat,m=void 0!==l&&l,d=e.in,p=e.onEnter,h=e.onEntered,v=e.onEntering,E=e.onExit,j=e.onExited,O=e.onExiting,w=e.style,x=e.timeout,k=void 0===x?F.b.standard:x,N=e.TransitionComponent,C=void 0===N?L.a:N,S=Object(b.a)(e,["children","classes","className","collapsedHeight","component","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),D=Object(A.a)(),T=a.useRef(),B=a.useRef(null),R=a.useRef(),H="number"===typeof c?"".concat(c,"px"):c;a.useEffect((function(){return function(){clearTimeout(T.current)}}),[]);var W=D.unstable_strictMode&&!m,z=a.useRef(null),V=Object(y.a)(t,W?z:void 0),q=function(e){return function(t,n){if(e){var a=W?[z.current,t]:[t,n],r=Object(I.a)(a,2),o=r[0],i=r[1];void 0===i?e(o):e(o,i)}}},P=q((function(e,t){e.style.height=H,p&&p(e,t)})),U=q((function(e,t){var n=B.current?B.current.clientHeight:0,a=Object(M.a)({style:w,timeout:k},{mode:"enter"}).duration;if("auto"===k){var r=D.transitions.getAutoHeightDuration(n);e.style.transitionDuration="".concat(r,"ms"),R.current=r}else e.style.transitionDuration="string"===typeof a?a:"".concat(a,"ms");e.style.height="".concat(n,"px"),v&&v(e,t)})),G=q((function(e,t){e.style.height="auto",h&&h(e,t)})),J=q((function(e){var t=B.current?B.current.clientHeight:0;e.style.height="".concat(t,"px"),E&&E(e)})),Y=q(j),$=q((function(e){var t=B.current?B.current.clientHeight:0,n=Object(M.a)({style:w,timeout:k},{mode:"exit"}).duration;if("auto"===k){var a=D.transitions.getAutoHeightDuration(t);e.style.transitionDuration="".concat(a,"ms"),R.current=a}else e.style.transitionDuration="string"===typeof n?n:"".concat(n,"ms");e.style.height=H,O&&O(e)}));return a.createElement(C,Object(f.a)({in:d,onEnter:P,onEntered:G,onEntering:U,onExit:J,onExited:Y,onExiting:$,addEndListener:function(e,t){var n=W?e:t;"auto"===k&&(T.current=setTimeout(n,R.current||0))},nodeRef:W?z:void 0,timeout:"auto"===k?null:k},S),(function(e,t){return a.createElement(u,Object(f.a)({className:Object(g.a)(r.container,o,{entered:r.entered,exited:!d&&"0px"===H&&r.hidden}[e]),style:Object(f.a)({minHeight:H},w),ref:V},t),a.createElement("div",{className:r.wrapper,ref:B},a.createElement("div",{className:r.wrapperInner},n)))}))}));W.muiSupportAuto=!0;var z=Object(h.a)((function(e){return{container:{height:0,overflow:"hidden",transition:e.transitions.create("height")},entered:{height:"auto",overflow:"visible"},hidden:{visibility:"hidden"},wrapper:{display:"flex"},wrapperInner:{width:"100%"}}}),{name:"MuiCollapse"})(W),V=n(175),q=n(12),P=n(190),U=Object(s.a)((function(e){return{alert:{marginBottom:10},form:{marginTop:25,marginBottom:12},input:{marginBottom:20},link:{color:e.palette.primary.light}}})),G=function(){var e=Object(a.useState)(""),t=Object(p.a)(e,2),n=t[0],o=t[1],s=Object(a.useState)(""),l=Object(p.a)(s,2),f=l[0],b=l[1],g=Object(a.useState)({username:"",password:""}),h=Object(p.a)(g,2),v=h[0],w=h[1],x=Object(a.useState)(!1),y=Object(p.a)(x,2),k=y[0],N=y[1],D=Object(S.b)(),B=U(),R=Object(c.k)(),I=function(){var e=Object(d.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,P.a.create(n,f);case 4:D(Object(q.d)(q.a.signupSuccess)),R.push("/"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),N(!0),setTimeout((function(){return N(!1)}),3e3);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(u.a,{maxWidth:"xs",align:"center"},r.a.createElement(T.a,{text:"Sign up"}),r.a.createElement("form",{onSubmit:I,autoComplete:"off",className:B.form},r.a.createElement(E,null,r.a.createElement(z,{in:k},r.a.createElement(V.a,{severity:"error",variant:"filled",className:B.alert},"Username already taken!")),r.a.createElement(j.a,{required:!0,variant:"outlined",name:"username",label:"Username",id:"username",autoFocus:!0,autoComplete:"username",onChange:function(e){o(e.target.value),function(e){e.length<3||e.length>50?w(Object(H.a)(Object(H.a)({},v),{},{username:"Username length must be 3-50 characters"})):w(Object(H.a)(Object(H.a)({},v),{},{username:""}))}(e.target.value)},error:""!==v.username,helperText:v.username,className:B.input}),r.a.createElement(j.a,{required:!0,variant:"outlined",name:"password",label:"Password",id:"password",type:"password",autoComplete:"current-password",onChange:function(e){b(e.target.value),function(e){e.length<5||e.length>50?w(Object(H.a)(Object(H.a)({},v),{},{password:"Password length must be 5-50 characters"})):w(Object(H.a)(Object(H.a)({},v),{},{password:""}))}(e.target.value)},error:""!==v.password,helperText:v.password,className:B.input}),r.a.createElement(O.a,{type:"submit",variant:"contained",color:"primary",size:"medium",disabled:""!==v.password||""!==v.username},"Sign up"))),r.a.createElement(u.a,{align:"left"},r.a.createElement(C,{component:i.Link,to:"/",className:B.link},"Back to login page.")))},J=Object(s.a)((function(){return{mainContainer:{justifyContent:"center",alignItems:"center",padding:20}}}));t.default=function(){var e=J();return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.BrowserRouter,null,r.a.createElement(o.a,null),r.a.createElement(u.a,{maxWidth:"sm",className:e.mainContainer},r.a.createElement(c.g,null,r.a.createElement(c.d,{path:"/signup"},r.a.createElement(G,null)),r.a.createElement(c.d,{path:"/"},r.a.createElement(R,null))))))}}}]);
//# sourceMappingURL=6.90b23dce.chunk.js.map