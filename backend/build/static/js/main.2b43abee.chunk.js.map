{"version":3,"sources":["components/NavBar.js","components/SongListItem.js","helpers/songHelper.js","services/songService.js","redux/songReducer.js","components/SongList.js","components/SongSection.js","components/SongSectionList.js","components/Song.js","components/SnackbarAlert.js","App.js","redux/store.js","index.js"],"names":["useStyles","makeStyles","root","flexGrow","title","fontSize","paddingRight","buttonsDiv","flex","linkButton","textDecoration","color","padding","NavBar","classes","className","AppBar","position","Toolbar","Typography","Button","component","Link","to","logout","item","SongListItem","song","ListItem","id","divider","cutStringIntoLines","string","cutLines","match","getDefaultSong","sections","name","lines","i","length","concat","map","line","trim","filter","size","maxId","reduce","max","current","console","log","newSection","push","url","getAll","a","axios","get","res","data","getOne","create","songObject","post","edit","put","destroy","delete","songReducer","state","action","type","newState","songId","sectionId","section","find","s","editedSections","addSongButton","margin","SongList","songs","useSelector","dispatch","useDispatch","history","useHistory","List","key","variant","startIcon","Add","onClick","songHelper","songService","createdSong","then","catch","e","theme","borderWidth","borderStyle","borderRadius","borderColor","palette","primary","main","marginBottom","overflow","whiteSpace","backgroundColor","normalViewRoot","marginTop","editForm","nameField","buttonDiv","display","lineSubmitButton","deleteButton","marginLeft","dragHandle","SongSection","editMode","useState","setName","linesString","setLinesString","deleteConfirm","setDeleteConfirm","DragHandle","SortableHandle","Box","Icon","DragIndicator","handleEditSubmit","event","preventDefault","linesArray","editedSection","editSection","cleanedLines","target","value","handleNameChange","handleLinesChange","handleDeleteClick","deleteSection","onSubmit","TextField","label","defaultValue","onChange","multiline","rows","fullWidth","index","SortableItem","SortableElement","SortableList","SortableContainer","Container","maxWidth","align","SongSectionList","handleSortEnd","oldIndex","newIndex","sortedSections","arrayMove","songToDispatch","JSON","parse","stringify","sortSections","onSortEnd","useDragHandle","useWindowAsScrollContainer","menuContainer","titleForm","addSectionButton","deleteSongButton","Song","setAlertMessage","setAlertIsError","setEditMode","setTitle","delConfirmOpen","setDelConfirmOpen","saveOpen","setSaveOpen","useParams","Number","handleEditModeExitClick","handleSaveAgreeClick","savedSong","saveSong","handleSaveDiscardClick","previousSong","resetSong","handleTitleChange","handleTitleSubmit","editTitle","handleAddSectionClick","addSection","handleDeleteAgreeClick","returnValue","deleteSong","DeleteForever","Dialog","open","onClose","DialogTitle","DialogContent","DialogContentText","DialogActions","SnackbarAlert","message","isError","handleClose","Snackbar","autoHideDuration","Alert","severity","mainContainer","justifyContent","alignItems","contentContainer","App","alertMessage","alertIsError","useEffect","path","reason","composeEnhancers","composeWithDevTools","trace","store","createStore","applyMiddleware","thunk","ReactDOM","render","CssBaseline","document","getElementById"],"mappings":"kRAKMA,EAAYC,aAAW,iBAAO,CAClCC,KAAM,CACJC,SAAU,GAEZC,MAAO,CACLC,SAAU,GACVC,aAAc,IAEhBC,WAAY,CACVC,KAAM,GAERC,WAAY,CACVC,eAAgB,OAChBC,MAAO,QACPC,QAAS,QAyBEC,EArBA,WACb,IAAMC,EAAUd,IAEhB,OACE,yBAAKe,UAAWD,EAAQZ,MACtB,kBAACc,EAAA,EAAD,CAAQC,SAAS,UACf,kBAACC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAYJ,UAAWD,EAAQV,OAA/B,cAGA,yBAAKW,UAAWD,EAAQP,YACtB,kBAACa,EAAA,EAAD,CAAQC,UAAWC,IAAMC,GAAI,UAAWZ,MAAM,UAAUI,UAAWD,EAAQL,YAA3E,eAEF,kBAACW,EAAA,EAAD,CAAQT,MAAM,UAAUI,UAAWD,EAAQU,QAA3C,c,mCC/BJxB,EAAYC,aAAW,iBAAO,CAClCwB,KAAM,OAwBOC,EAnBM,SAAC,GAAc,IAAZC,EAAW,EAAXA,KAChBb,EAAUd,IAEhB,OACE,kBAAC4B,EAAA,EAAD,CACEP,UAAWC,IACXC,GAAE,iBAAYI,EAAKE,IACnBC,SAAS,EACTf,UAAWD,EAAQW,MAEnB,4BAAKE,EAAKvB,S,yBCGV2B,EAAqB,SAACC,GAE1B,IAAMC,EAAWD,EAAOE,MAAM,aAC9B,OAAOD,GAAsB,IAGzBE,EAAiB,WACrB,MAAO,CACL/B,MAAO,WACPgC,SAAU,CACR,CACEP,GAAI,EACJQ,KAAM,cACNC,MAAO,OAwBA,EA7DY,SAACA,GAE1B,IADA,IAAIN,EAAS,GACJO,EAAI,EAAGA,EAAID,EAAME,OAAQD,IAChCP,EAASA,EAAOS,OAAOH,EAAMC,IACzBA,EAAI,EAAID,EAAME,SAChBR,EAASA,EAAOS,OAAO,OAG3B,OAAOT,GAqDM,EAlDY,SAACA,GAM1B,OALcD,EAAmBC,GAC9BU,KAAI,SAAAC,GAAI,OAAWA,EAAKC,UACxBC,QAAO,SAAAF,GAAI,MAAa,KAATA,MA+CL,EAzCG,SAACX,GACjB,OAAOD,EAAmBC,GAAQc,MAwCrB,EAAqDX,EAArD,EAlBO,SAACR,GACrB,GAA6B,IAAzBA,EAAKS,SAASI,OAEhB,OADAb,EAAKS,SAZK,CACR,CACEP,GAAI,EACJQ,KAAM,cACNC,MAAO,KASJX,EAGT,IAAIoB,EAAQpB,EAAKS,SAASY,QAAO,SAACC,EAAKC,GAAN,OAAkBA,EAAQrB,GAAKoB,EAAIpB,GAAKqB,EAAUD,KAAKpB,GACxFsB,QAAQC,IAAIL,GACZ,IAAMM,EAAU,2BAjBZ,CACExB,GAAI,EACJQ,KAAM,cACNC,MAAO,KAcG,IAEdT,GAAIkB,EAAQ,IAGd,OADApB,EAAKS,SAASkB,KAAKD,GACZ1B,G,0CCvDH4B,EAAM,cA+BG,GAAEC,OA7BL,uCAAG,4BAAAC,EAAA,6DACbN,QAAQC,IAAI,oBADC,SAEKM,IAAMC,IAAIJ,GAFf,cAEPK,EAFO,yBAGNA,EAAIC,MAHE,2CAAH,qDA6BaC,OAvBb,uCAAG,WAAOjC,GAAP,eAAA4B,EAAA,sEACKC,IAAMC,IAAIJ,EAAM1B,GADrB,cACP+B,EADO,yBAENA,EAAIC,MAFE,2CAAH,sDAuBqBE,OAlBrB,uCAAG,WAAOC,GAAP,eAAAP,EAAA,6DACbN,QAAQC,IAAI,wBADC,SAEKM,IAAMO,KAAKV,EAAKS,GAFrB,cAEPJ,EAFO,yBAGNA,EAAIC,MAHE,2CAAH,sDAkB6BK,KAZ/B,uCAAG,WAAOF,GAAP,eAAAP,EAAA,6DACXN,QAAQC,IAAI,iBAAkBY,GADnB,SAEON,IAAMS,IAAIZ,EAAMS,EAAWnC,GAAImC,GAFtC,cAELJ,EAFK,yBAGJA,EAAIC,MAHA,2CAAH,sDAYqCO,QANlC,uCAAG,WAAOvC,GAAP,eAAA4B,EAAA,6DACdN,QAAQC,IAAI,yBAA0BvB,GADxB,SAEI6B,IAAMW,OAAOd,EAAM1B,GAFvB,cAER+B,EAFQ,yBAGPA,EAAIC,MAHG,2CAAH,uDC0JES,EAtKK,WAAyB,IAAxBC,EAAuB,uDAAf,GAAIC,EAAW,uCAC1C,OAAQA,EAAOC,MACf,IAZwB,aAatB,OAAOD,EAAOX,KAChB,IAbyB,cAcvB,IAAMa,EAAWH,EAAM9B,OAAO+B,EAAOX,MACrC,OAAOa,EAET,IAhBuB,YAiBrBvB,QAAQC,IAAI,gBAAiBoB,EAAOX,MACpC,IAAMhC,EAAK2C,EAAOX,KAAKhC,GACvB,OAAO0C,EAAM7B,KAAI,SAAAf,GAAI,OAAIA,EAAKE,KAAOA,EAAKF,EAAO6C,EAAOX,QAE1D,IAnByB,cAoBvB,OAAOU,EAAM1B,QAAO,SAAAlB,GAAI,OAAIA,EAAKE,KAAO2C,EAAOX,KAAKhC,MACtD,IApB0B,eAqBxB,IAAM8C,EAASH,EAAOX,KAAKc,OACrBC,EAAYJ,EAAOX,KAAKgB,QAAQhD,GAChCF,EAAO4C,EAAMO,MAAK,SAAAC,GAAC,OAAIA,EAAElD,KAAO8C,KAChCK,EAAiBrD,EAAKS,SAASM,KAAI,SAAAmC,GAAO,OAAIA,EAAQhD,KAAO+C,EAAYC,EAAUL,EAAOX,KAAKgB,WACrG,OAAON,EAAM7B,KAAI,SAAAqC,GAAC,OAAIA,EAAElD,KAAO8C,EAASI,EAAlB,2BAA2BpD,GAA3B,IAAiCS,SAAU4C,OAEnE,IA1B4B,iBA2B1B,IAAML,EAASH,EAAOX,KAAKc,OACrBC,EAAYJ,EAAOX,KAAKgB,QAAQhD,GAChCF,EAAO4C,EAAMO,MAAK,SAAAC,GAAC,OAAIA,EAAElD,KAAO8C,KAChCK,EAAiBrD,EAAKS,SAASS,QAAO,SAAAgC,GAAO,OAAIA,EAAQhD,KAAO+C,KACtE,OAAOL,EAAM7B,KAAI,SAAAqC,GAAC,OAAIA,EAAElD,KAAO8C,EAASI,EAAlB,2BAA2BpD,GAA3B,IAAiCS,SAAU4C,OAEnE,QAEE,OADA7B,QAAQC,IAAI,sBACLmB,ICpCLvE,EAAYC,aAAW,iBAAO,CAClCC,KAAM,GAGN+E,cAAe,CACbC,OAAQ,OAgDGC,EA5CE,WACf,IAAMrE,EAAUd,IACVoF,EAAQC,aAAY,SAACd,GAAD,OAAWA,KAC/Be,EAAWC,cACXC,EAAUC,cAEhBtC,QAAQC,IAAI,WAAYgC,EAAM5C,OAAQ,SAmBtC,OACE,yBAAKzB,UAAWD,EAAQZ,MACtB,qCACA,kBAACwF,EAAA,EAAD,KACoB,IAAjBN,EAAM5C,OAZW4C,EAAM1C,KAAI,SAAAf,GAAI,OACpC,kBAAC,EAAD,CACEgE,IAAKhE,EAAKE,GACVN,GAAE,iBAAYI,EAAKE,IACnBF,KAAMA,OAQgC,8CAEtC,kBAACP,EAAA,EAAD,CACEL,UAAWD,EAAQmE,cACnBW,QAAQ,YACRjF,MAAM,UACNkF,UAAW,kBAACC,EAAA,EAAD,MACXC,QA5BqB,WDwBH,IAACpE,ECvBvB2D,GDuBuB3D,ECvBHqE,IDwBtB,uCAAO,WAAOV,GAAP,eAAA7B,EAAA,+EAEuBwC,EAAYlC,OAAOpC,GAF1C,cAEGuE,EAFH,OAGH/C,QAAQC,IAAI,WAAY8C,GACxBZ,EAAS,CACPb,KAnDmB,cAoDnBZ,KAAMqC,IANL,kBAQIA,GARJ,gCAUH/C,QAAQC,IAAR,MAVG,yDAAP,wDCvBK+C,MAAK,SAAAvC,GACJ4B,EAAQlC,KAAK,UAAYM,EAAI/B,IAC7BsB,QAAQC,IAAI,kBAEbgD,OAAM,SAAAC,GAAC,OAAIlD,QAAQC,IAAI,2BAA4BiD,QAiBpD,c,kGCvCArG,EAAYC,aAAW,SAACqG,GAAD,MAAY,CACvCzB,QAAS,CACP0B,YAAa,EACbC,YAAa,QACbC,aAAc,EACdC,YAAaJ,EAAMK,QAAQC,QAAQC,KACnCjG,QAAS,GACTkG,aAAc,EACdC,SAAU,OACVC,WAAY,SACZC,gBAAiB,QAEnBC,eAAgB,CACdC,WAAY,GACZL,cAAe,IAEjBnE,KAAM,CACJwE,WAAY,GAEdC,SAAU,CACRN,aAAc,IAEhBO,UAAW,CACTP,aAAc,IAEhBQ,UAAW,CACTC,QAAS,QAEXC,iBAAkB,CAChBL,UAAW,GACXL,cAAe,IAEjBW,aAAc,CACZN,UAAW,GACXL,cAAe,GACfY,WAAY,QAEdC,WAAY,CACVD,WAAY,OACZP,UAAW,GACXL,cAAe,QAwHJc,GApHK,SAAC,GAAmC,IAAjCjD,EAAgC,EAAhCA,OAAQE,EAAwB,EAAxBA,QAASgD,EAAe,EAAfA,SAAe,EAI7BC,mBAASjD,EAAQxC,MAJY,mBAI9CA,EAJ8C,KAIxC0F,EAJwC,OAKfD,mBAAS9B,EAA8BnB,EAAQvC,QALhC,mBAK9C0F,EAL8C,KAKjCC,EALiC,OAMXH,oBAAS,GANE,mBAM9CI,EAN8C,KAM/BC,EAN+B,KAQ/CrH,EAAUd,IACVsF,EAAWC,cAEX6C,EAAaC,aAAe,kBAAM,kBAACC,EAAA,EAAD,CAAKvH,UAAWD,EAAQ6G,YAAxB,IAAqC,kBAACY,EAAA,EAAD,KAAM,kBAACC,EAAA,EAAD,OAA3C,QAqDlCC,EAAmB,SAACC,GACxBA,EAAMC,iBACNxF,QAAQC,IAAI,mBAAoBf,GAEhC,IAAMuG,EAAa5C,EAA8BgC,GAE3Ca,EAAgB,CAAEhH,GAAIgD,EAAQhD,GAAIQ,KAAMA,EAAMC,MAAOsG,GAC3DtD,EFfuB,SAACX,EAAQE,GAClC,8CAAO,WAAOS,GAAP,SAAA7B,EAAA,sDACL6B,EAAS,CACPb,KAxGsB,eAyGtBZ,KAAM,CAAEc,SAAQE,aAHb,2CAAP,sDEcWiE,CAAYnE,EAAQkE,IAE7B,IAAME,EAAe/C,EAA8B4C,GACnDF,EAAMM,OAAO1G,MAAM2G,MAAQF,EAC3Bd,EAAec,IAKXG,EAAmB,SAACR,GACxBX,EAAQW,EAAMM,OAAOC,QAGjBE,EAAoB,SAACT,GACzBT,EAAeS,EAAMM,OAAOC,QAGxBG,EAAoB,SAACV,GACzBA,EAAMC,iBACNxF,QAAQC,IAAI,0BACR8E,GACF/E,QAAQC,IAAI,oBACZkC,EF5BuB,SAACX,EAAQE,GACpC,8CAAO,WAAOS,GAAP,SAAA7B,EAAA,sDACL6B,EAAS,CACPb,KAhHwB,iBAiHxBZ,KAAM,CAAEc,SAAQE,aAHb,2CAAP,sDE2BawE,CAAc1E,EAAQE,KAE/BsD,GAAiB,IAIrB,OACE,yBAAKpH,UAAWD,EAAQ+D,SACrBgD,EAtFD,0BAAM9G,UAAWD,EAAQsG,SAAUkC,SAAUb,GAC3C,kBAACc,EAAA,EAAD,CAAWxI,UAAWD,EAAQuG,UAAWmC,MAAM,YAAYnH,KAAK,OAAOoH,aAAcpH,EAAMqH,SAAUR,IACrG,6BACE,kBAACK,EAAA,EAAD,CACEI,WAAS,EACTH,MAAM,QACNnH,KAAK,QACLuH,KAAM5D,EAAqBgC,GAC3ByB,aAAczB,EACd0B,SAAUP,EACVU,WAAW,KAGf,yBAAK9I,UAAWD,EAAQwG,WACtB,kBAAClG,EAAA,EAAD,CACEL,UAAWD,EAAQ0G,iBACnB1E,KAAK,QACLnC,MAAM,UACNiF,QAAQ,WACRnB,KAAK,UALP,QASA,kBAAC2D,EAAD,MACA,kBAAChH,EAAA,EAAD,CACEL,UAAWD,EAAQ2G,aACnB3E,KAAK,QACLnC,MAAM,YACNiF,QAAQ,WACRG,QAASqD,GAERlB,EAAgB,mBAAqB,YAS5C,yBAAKnH,UAAWD,EAAQoG,gBACtB,4BAAKrC,EAAQxC,MACZwC,EAAQvC,MAAMI,KAAI,SAACC,EAAMmH,GACxB,OAAO,uBAAG/I,UAAWD,EAAQ6B,KAAMgD,IAAKmE,GAAQnH,S,oBCxGpD3C,GAAYC,aAAW,iBAAO,CAClCC,KAAM,OAKF6J,GAAeC,aAAgB,YAAkC,IAA/BnF,EAA8B,EAA9BA,QAASlD,EAAqB,EAArBA,KAAMkG,EAAe,EAAfA,SACrD,OACE,kBAAC,GAAD,CACElD,OAAQhD,EAAKE,GACbgD,QAASA,EACTgD,SAAUA,OAMVoC,GAAeC,aAAkB,YAAyB,IAAtBvI,EAAqB,EAArBA,KAAMkG,EAAe,EAAfA,SAC9C,OACE,kBAACsC,EAAA,EAAD,CAAWC,UAAU,EAAOC,MAAM,QAC/B1I,EAAKS,SAASM,KAAI,SAACmC,EAASiF,GAC3B,OACE,kBAACC,GAAD,CACEpE,IAAKd,EAAQhD,GACbiI,MAAOA,EACPjF,QAASA,EACTlD,KAAMA,EACNkG,SAAUA,WA0CPyC,GAlCS,SAAC,GAAwB,IAAtB3I,EAAqB,EAArBA,KAAMkG,EAAe,EAAfA,SAEzBvC,EAAWC,cAGXgF,GAFUvK,KAEM,SAAC,GAA4B,IAA1BwK,EAAyB,EAAzBA,SAAUC,EAAe,EAAfA,SAC3BC,EAAiBC,KAAUhJ,EAAKS,SAAUoI,EAAUC,GAC1DnF,EH0FwB,SAAC3D,EAAM+I,GACjC,IAAIE,EAAiBC,KAAKC,MAAMD,KAAKE,UAAUpJ,IAG/C,OAFAiJ,EAAexI,SAAWsI,EAE1B,uCAAO,WAAOpF,GAAP,SAAA7B,EAAA,sDACL6B,EAAS,CACPb,KA5ImB,YA6InBZ,KAAM+G,IAHH,2CAAP,sDG9FWI,CAAarJ,EAAM+I,MAsB9B,OAlB+B,IAAzB/I,EAAKS,SAASI,OAEd,kBAAC2H,EAAA,EAAD,KACE,4CAKJ,kBAACF,GAAD,CACEtI,KAAMA,EACNkG,SAAUA,EACVoD,UAAWV,EACXW,eAAa,EACbC,4BAA0B,KC1D5BnL,GAAYC,aAAW,iBAAO,CAClCC,KAAM,GAGNkL,cAAe,CACbtE,aAAc,GAEhBuE,UAAW,CACTnG,OAAQ,IAEVoG,iBAAkB,CAChBnE,UAAW,GAEboE,iBAAkB,CAChB7D,WAAY,YAoND8D,GAhNF,SAAC,GAA0C,IAAxCC,EAAuC,EAAvCA,gBAAiBC,EAAsB,EAAtBA,gBAAsB,EACrB5D,oBAAS,GADY,mBAC9CD,EAD8C,KACpC8D,EADoC,OAE3B7D,mBAAS,IAFkB,mBAE9C1H,EAF8C,KAEvCwL,EAFuC,OAGT9D,oBAAS,GAHA,mBAG9C+D,EAH8C,KAG9BC,EAH8B,OAIrBhE,oBAAS,GAJY,mBAI9CiE,EAJ8C,KAIpCC,EAJoC,KAM/ClL,EAAUd,KACV6B,EAAKoK,cAAYpK,GACjByD,EAAWC,cACXC,EAAUC,cAEV9D,EAAO0D,aAAY,SAACd,GAAD,OAAWA,EAAMO,MAAK,SAAAC,GAAC,OAAIA,EAAElD,KAAOqK,OAAOrK,SAEpEsB,QAAQC,IAAI,eAAgBzB,GAsC5BwB,QAAQC,IAAI,kBAAmByI,GAE/B,IAwEMM,EAA0B,WAC9BhJ,QAAQC,IAAI,qBACZ4I,GAAY,IAGRI,EAAuB,WAC3BjJ,QAAQC,IAAI,WACZ4I,GAAY,GACZL,GAAY,GACZrG,EJToB,SAAC3D,GACvB,8CAAO,WAAO2D,GAAP,eAAA7B,EAAA,+EAEqBwC,EAAY/B,KAAKvC,GAFtC,OAEG0K,EAFH,OAGH/G,EAAS,CACPb,KAvJiB,YAwJjBZ,KAAMwI,IALL,gDAQHlJ,QAAQC,IAAR,MARG,yDAAP,sDIQWkJ,CAAS3K,KAGd4K,EAAyB,WAC7BpJ,QAAQC,IAAI,uBACZ4I,GAAY,GACZL,GAAY,GACZrG,EJFqB,SAAC3D,GACxB,8CAAO,WAAO2D,GAAP,eAAA7B,EAAA,+EAEwBwC,EAAYnC,OAAOnC,EAAKE,IAFhD,OAEG2K,EAFH,OAGHlH,EAAS,CACPb,KArKiB,YAsKjBZ,KAAM2I,IALL,gDAQHrJ,QAAQC,IAAR,MARG,yDAAP,sDICWqJ,CAAU9K,KAGf+K,EAAoB,SAAChE,GACzBvF,QAAQC,IAAIsF,EAAMM,OAAOC,OACzB2C,EAASlD,EAAMM,OAAOC,QAGlB0D,EAAoB,SAACjE,GACzBA,EAAMC,iBACNrD,EJhHqB,SAAC3D,EAAMvB,GAC9B,IAAIwK,EAAiBC,KAAKC,MAAMD,KAAKE,UAAUpJ,IAG/C,OAFAiJ,EAAexK,MAAQA,EAEvB,uCAAO,WAAOkF,GAAP,SAAA7B,EAAA,sDACL6B,EAAS,CACPb,KAlEmB,YAmEnBZ,KAAM+G,IAHH,2CAAP,sDI4GWgC,CAAUjL,EAAMvB,IACzBsL,GAAgB,GAChBD,EAAgB,0BAA4BrL,IAGxCyM,EAAwB,WAC5B1J,QAAQC,IAAI,oBACZkC,EJzDsB,SAAC3D,GACzB,IAAIiJ,EAAiBC,KAAKC,MAAMD,KAAKE,UAAUpJ,IAG/C,OAFAiJ,EAAiB5E,EAAyB4E,GAE1C,uCAAO,WAAOtF,GAAP,SAAA7B,EAAA,sDACL6B,EAAS,CACPb,KAhImB,YAiInBZ,KAAM+G,IAHH,2CAAP,sDIqDWkC,CAAWnL,KAGhBoL,EAAyB,WAC7B5J,QAAQC,IAAI,sBACZkC,EJhGsB,SAAC3D,GACzB,8CAAO,WAAO2D,GAAP,eAAA7B,EAAA,+EAEuBwC,EAAY7B,QAAQzC,EAAKE,IAFhD,OAEGmL,EAFH,OAGH7J,QAAQC,IAAI,oBAAqB4J,GACjC1H,EAAS,CACPb,KA5FmB,cA6FnBZ,KAAMlC,IANL,gDASHwB,QAAQC,IAAR,MATG,yDAAP,sDI+FW6J,CAAWtL,IACpB6D,EAAQlC,KAAK,YAGf,OAAI3B,EAEA,yBAAKZ,UAAWD,EAAQZ,MAzJtB2H,EAEA,0BAAMyB,SAAUqD,EAAmB5L,UAAWD,EAAQuK,WACpD,kBAAC9B,EAAA,EAAD,CACEC,MAAM,aACNC,aAAcrJ,GAAgBuB,EAAKvB,MACnCsJ,SAAUgD,KAMd,4BAAK/K,EAAKvB,OA+IV,6BACE,kBAAC+J,EAAA,EAAD,CAAWE,MAAM,QAAQD,UAAU,EAAOrJ,UAAWD,EAAQsK,eAC3D,kBAAChK,EAAA,EAAD,CACET,MAAM,UACNiF,QAAQ,YACRG,QAvDkB,WAC5B8B,EAAWsE,IAA4BR,GAAY,KAwDxC9D,EAAW,iBAAmB,cAGnC,kBAAC,GAAD,CAAiBlG,KAAMA,EAAMkG,SAAUA,KAEzC,kBAACsC,EAAA,EAAD,CAAWC,UAAU,GApJrBvC,EAEA,kBAACzG,EAAA,EAAD,CACEL,UAAWD,EAAQwK,iBACnB1F,QAAQ,YACRjF,MAAM,UACNkF,UAAW,kBAACC,EAAA,EAAD,MACXC,QAAS8G,GALX,eAWI,+BA0IJ,kBAAC1C,EAAA,EAAD,CAAWE,MAAM,QAAQD,UAAU,GApInCvC,EAEA,kBAACzG,EAAA,EAAD,CACEL,UAAWD,EAAQyK,iBACnB3F,QAAQ,YACRjF,MAAM,YACNkF,UAAW,kBAACqH,EAAA,EAAD,MACXnH,QAAS,kBAAM+F,GAAkB,KALnC,eAWI,+BAKN,kBAACqB,EAAA,EAAD,CACEC,KAAMvB,EACNwB,QAAS,kBAAMvB,GAAkB,KAEjC,kBAACwB,EAAA,EAAD,0BACA,kBAACC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,6GAIF,kBAACC,EAAA,EAAD,KACE,kBAACrM,EAAA,EAAD,CAAQ2E,QAASgH,EAAwBpM,MAAM,YAAYiF,QAAQ,aAAnE,sBAGA,kBAACxE,EAAA,EAAD,CAAQ2E,QAAS,kBAAM+F,GAAkB,IAAQlG,QAAQ,aAAzD,YAUJ,kBAACuH,EAAA,EAAD,CACEC,KAAMrB,EACNsB,QAAS,kBAAMrB,GAAY,KAE3B,kBAACsB,EAAA,EAAD,sBACA,kBAACC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,oDAIF,kBAACC,EAAA,EAAD,KACE,kBAACrM,EAAA,EAAD,CAAQ2E,QAASqG,EAAsBzL,MAAM,UAAUiF,QAAQ,aAA/D,gBAGA,kBAACxE,EAAA,EAAD,CAAQ2E,QAASwG,EAAwB5L,MAAM,YAAYiF,QAAQ,aAAnE,mBAGA,kBAACxE,EAAA,EAAD,CAAQ2E,QAAS,kBAAMiG,GAAY,IAAQpG,QAAQ,aAAnD,aAkFJ,6BACE,uCACA,mE,oBCjMO8H,GAtBO,SAAC,GAAuC,IAArCC,EAAoC,EAApCA,QAASC,EAA2B,EAA3BA,QAASC,EAAkB,EAAlBA,YACzC,OACE,6BACE,kBAACC,GAAA,EAAD,CAAUV,KAAkB,KAAZO,EAAgBI,iBAAkB,IAAMV,QAASQ,GAC/D,kBAACG,GAAA,EAAD,CACEpI,QAAQ,SACRyH,QAASQ,EACTI,SAAUL,EAAU,QAAU,WAE7BD,MCRL3N,GAAYC,aAAW,iBAAO,CAClCiO,cAAe,CACbC,eAAgB,SAChBC,WAAY,SACZxN,QAAS,IAEXyN,iBAAkB,OAuDLC,GAlDH,WACVnL,QAAQC,IAAI,cADI,MAEwB0E,mBAAS,IAFjC,mBAETyG,EAFS,KAEK9C,EAFL,OAGwB3D,oBAAS,GAHjC,mBAGT0G,EAHS,KAGK9C,EAHL,KAMV5K,EAAUd,KACVsF,EAAWC,cAEjBkJ,qBAAU,WACRtL,QAAQC,IAAI,cACZkC,ENgDF,uCAAO,WAAOA,GAAP,eAAA7B,EAAA,+EAEiBwC,EAAYzC,SAF7B,OAEG4B,EAFH,OAGHjC,QAAQC,IAAI,eAAgBgC,GAC5BE,EAAS,CACPb,KAjFkB,aAkFlBZ,KAAMuB,IANL,gDASHjC,QAAQC,IAAR,MATG,yDAAP,yDM/CG,CAACkC,IAQJ,OACE,oCACE,kBAAC,IAAD,KACE,kBAAC,EAAD,MACA,kBAAC6E,EAAA,EAAD,CAAWC,UAAU,EAAOrJ,UAAWD,EAAQoN,eAC7C,kBAAC/D,EAAA,EAAD,CAAWC,UAAU,EAAOC,MAAM,SAAStJ,UAAWD,EAAQuN,kBAC5D,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOK,KAAK,cACV,kBAAC,GAAD,CACEjD,gBAAiBA,EACjBC,gBAAiBA,KAGrB,kBAAC,IAAD,CAAOgD,KAAK,WACV,kBAAC,EAAD,OAEF,kBAAC,IAAD,CAAOA,KAAK,KAAI,yCAGpB,kBAAC,GAAD,CACEf,QAASY,EACTX,QAASY,EACTX,YA5Be,SAACnF,EAAOiG,GAChB,cAAXA,GAEJlD,EAAgB,W,qCChCdmD,GAAmBC,+BAAoB,CAAEC,OAAO,IASvCC,GAPDC,uBACZ1K,EACAsK,GACEK,2BAAgBC,QCHpBC,IAASC,OAEP,kBAACC,GAAA,EAAD,KACE,kBAAC,IAAD,CAAUN,MAAOA,IACf,kBAAC,GAAD,QAIJO,SAASC,eAAe,W","file":"static/js/main.2b43abee.chunk.js","sourcesContent":["import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { AppBar, Toolbar, Typography, Button } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    flexGrow: 1\n  },\n  title: {\n    fontSize: 20,\n    paddingRight: 15\n  },\n  buttonsDiv: {\n    flex: 1\n  },\n  linkButton: {\n    textDecoration: 'none',\n    color: 'white',\n    padding: 20\n  }\n}))\n\nconst NavBar = () => {\n  const classes = useStyles()\n\n  return (\n    <div className={classes.root}>\n      <AppBar position='static'>\n        <Toolbar>\n          <Typography className={classes.title}>\n            SongWriter\n          </Typography>\n          <div className={classes.buttonsDiv}>\n            <Button component={Link} to={'/songs/'} color='inherit' className={classes.linkButton}>Your songs</Button>\n          </div>\n          <Button color='inherit' className={classes.logout}>Logout</Button>\n        </Toolbar>\n      </AppBar>\n    </div>\n\n  )\n}\n\nexport default NavBar","import React from 'react'\nimport { ListItem, makeStyles } from '@material-ui/core'\nimport { Link } from 'react-router-dom'\nimport PropTypes from 'prop-types'\n\nconst useStyles = makeStyles(() => ({\n  item: {\n\n  }\n}))\n\nconst SongListItem = ({ song }) => {\n  const classes = useStyles()\n\n  return (\n    <ListItem\n      component={Link}\n      to={`/songs/${song.id}`}\n      divider={true}\n      className={classes.item}\n    >\n      <h2>{song.title}</h2>\n    </ListItem>\n  )\n}\n\nSongListItem.propTypes = {\n  song: PropTypes.object.isRequired\n}\n\nexport default SongListItem","const linesArrayToString = (lines) => {\n  let string = ''\n  for (let i = 0; i < lines.length; i++) {\n    string = string.concat(lines[i])\n    if (i + 1 < lines.length) {  // If it's not the last line, add a newline\n      string = string.concat('\\n')\n    }\n  }\n  return string\n}\n\nconst linesStringToArray = (string) => {\n  const array = cutStringIntoLines(string)\n    .map(line => line = line.trim())\n    .filter(line => line !== '')\n\n  //console.log('Trimmed lines:', array)\n  return array\n}\n\nconst lineCount = (string) => {\n  return cutStringIntoLines(string).size\n}\n\nconst cutStringIntoLines = (string) => {\n  //console.log('Cutting:', string)\n  const cutLines = string.match(/[^\\r\\n]+/g)\n  return cutLines ? cutLines : []\n}\n\nconst getDefaultSong = () => {\n  return {\n    title: 'New song',\n    sections: [\n      {\n        id: 1,\n        name: 'New section',\n        lines: []\n      }\n    ]\n  }\n}\n\nconst addNewSection = (song) => {\n  if (song.sections.length === 0) {\n    song.sections = getDefaultSong().sections\n    return song\n  }\n\n  let maxId = song.sections.reduce((max, current) => current.id > max.id ? current : max).id // Find the previously highest section id\n  console.log(maxId)\n  const newSection = {\n    ...getDefaultSong().sections[0],\n    id: maxId + 1,\n  }\n  song.sections.push(newSection) // modifies the song directly\n  return song\n}\n\n\n\nexport default { linesArrayToString, linesStringToArray, lineCount, getDefaultSong, addNewSection }","import axios from 'axios'\nconst url = '/api/songs/'\n\nconst getAll = async () => {\n  console.log('Getting songs...')\n  const res = await axios.get(url)\n  return res.data\n}\n\nconst getOne = async (id) => {\n  const res = await axios.get(url + id)\n  return res.data\n}\n\nconst create = async (songObject) => {\n  console.log('Creating new song...')\n  const res = await axios.post(url, songObject)\n  return res.data\n}\n\nconst edit = async (songObject) => {\n  console.log('Editing song: ', songObject)\n  const res = await axios.put(url + songObject.id, songObject)\n  return res.data\n}\n\nconst destroy = async (id) => {\n  console.log('Deleting song with id:', id)\n  const res = await axios.delete(url + id)\n  return res.data\n}\n\nexport default { getAll, getOne, create, edit, destroy }","import songService from '../services/songService'\nimport songHelper from '../helpers/songHelper'\n\n// Action types\nexport const INIT_SONGS = 'INIT_SONGS'\nexport const CREATE_SONG = 'CREATE_SONG'\nexport const EDIT_SONG = 'EDIT_SONG'\nexport const ADD_SECTION = 'ADD_SECTION'\nexport const DELETE_SONG = 'DELETE_SONG'\nexport const EDIT_SECTION = 'EDIT_SECTION'\nexport const DELETE_SECTION = 'DELETE_SECTION'\n\n\n// Reducer\nconst songReducer = (state = [], action) => {\n  switch (action.type) {\n  case INIT_SONGS:\n    return action.data\n  case CREATE_SONG: {\n    const newState = state.concat(action.data)\n    return newState\n  }\n  case EDIT_SONG: {\n    console.log('Editing song:', action.data)\n    const id = action.data.id\n    return state.map(song => song.id !== id ? song : action.data)\n  }\n  case DELETE_SONG:\n    return state.filter(song => song.id !== action.data.id)\n  case EDIT_SECTION: {\n    const songId = action.data.songId\n    const sectionId = action.data.section.id\n    const song = state.find(s => s.id === songId)\n    const editedSections = song.sections.map(section => section.id !== sectionId ? section : action.data.section)\n    return state.map(s => s.id !== songId ? s : { ...song, sections: editedSections })\n  }\n  case DELETE_SECTION: {\n    const songId = action.data.songId\n    const sectionId = action.data.section.id\n    const song = state.find(s => s.id === songId)\n    const editedSections = song.sections.filter(section => section.id !== sectionId)\n    return state.map(s => s.id !== songId ? s : { ...song, sections: editedSections })\n  }\n  default:\n    console.log('Default in reducer')\n    return state\n  }\n}\n\n// Song action creators\nexport const createSong = (song) => {\n  return async (dispatch) => {\n    try {\n      const createdSong = await songService.create(song)\n      console.log('Created:', createdSong)\n      dispatch({\n        type: CREATE_SONG,\n        data: createdSong\n      })\n      return createdSong\n    } catch (error) {\n      console.log(error)\n    }\n  }\n}\n\nexport const editTitle = (song, title) => {\n  let songToDispatch = JSON.parse(JSON.stringify(song))\n  songToDispatch.title = title\n\n  return async (dispatch) => {\n    dispatch({\n      type: EDIT_SONG,\n      data: songToDispatch\n    })\n  }\n}\n\n\nexport const initializeSongs = () => {\n  return async (dispatch) => {\n    try {\n      const songs = await songService.getAll()\n      console.log('Initialized:', songs)\n      dispatch({\n        type: INIT_SONGS,\n        data: songs\n      })\n    } catch (error) {\n      console.log(error)\n    }\n  }\n}\n\nexport const deleteSong = (song) => {\n  return async (dispatch) => {\n    try {\n      const returnValue = await songService.destroy(song.id)\n      console.log('Destroy returned:', returnValue)\n      dispatch({\n        type: DELETE_SONG,\n        data: song\n      })\n    } catch (error) {\n      console.log(error)\n    }\n  }\n}\n\n// Section action creators\nexport const editSection = (songId, section) => {\n  return async (dispatch) => {\n    dispatch({\n      type: EDIT_SECTION,\n      data: { songId, section }\n    })\n  }\n}\n\nexport const deleteSection = (songId, section) => {\n  return async (dispatch) => {\n    dispatch({\n      type: DELETE_SECTION,\n      data: { songId, section }\n    })\n  }\n}\n\nexport const addSection = (song) => {\n  let songToDispatch = JSON.parse(JSON.stringify(song))\n  songToDispatch = songHelper.addNewSection(songToDispatch)\n\n  return async (dispatch) => {\n    dispatch({\n      type: EDIT_SONG,\n      data: songToDispatch\n    })\n  }\n}\n\nexport const sortSections = (song, sortedSections) => {\n  let songToDispatch = JSON.parse(JSON.stringify(song))\n  songToDispatch.sections = sortedSections\n\n  return async (dispatch) => {\n    dispatch({\n      type: EDIT_SONG,\n      data: songToDispatch\n    })\n  }\n}\n\nexport const saveSong = (song) => {\n  return async (dispatch) => {\n    try {\n      const savedSong = await songService.edit(song)\n      dispatch({\n        type: EDIT_SONG,\n        data: savedSong\n      })\n    } catch (error) {\n      console.log(error)\n    }\n  }\n}\n\nexport const resetSong = (song) => {\n  return async (dispatch) => {\n    try {\n      const previousSong = await songService.getOne(song.id)\n      dispatch({\n        type: EDIT_SONG,\n        data: previousSong\n      })\n    } catch (error) {\n      console.log(error)\n    }\n  }\n}\n\nexport default songReducer","import React from 'react'\nimport { List, makeStyles, Button } from '@material-ui/core'\nimport SongListItem from './SongListItem'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { Add } from '@material-ui/icons'\nimport songHelper from '../helpers/songHelper'\nimport { createSong } from '../redux/songReducer'\nimport { useHistory } from 'react-router'\n\nconst useStyles = makeStyles(() => ({\n  root: {\n\n  },\n  addSongButton: {\n    margin: 8\n  }\n}))\n\nconst SongList = () => {\n  const classes = useStyles()\n  const songs = useSelector((state) => state)\n  const dispatch = useDispatch()\n  const history = useHistory()\n\n  console.log('Rendered', songs.length, 'songs')\n\n  const handleNewSongClick = () => {\n    dispatch(createSong(songHelper.getDefaultSong())) // Note: not error handling createSong\n      .then(res => {\n        history.push('/songs/' + res.id)\n        console.log('Redirected!')\n      })\n      .catch(e => console.log('Error creating new song:', e))\n  }\n\n  const listSongs = () => songs.map(song =>\n    <SongListItem\n      key={song.id}\n      to={`/songs/${song.id}`}\n      song={song}\n    />\n  )\n\n  return (\n    <div className={classes.root}>\n      <h1>Songs</h1>\n      <List>\n        {songs.length !== 0 ? listSongs() : <p>No songs found</p>}\n      </List>\n      <Button\n        className={classes.addSongButton}\n        variant='contained'\n        color='primary'\n        startIcon={<Add />}\n        onClick={handleNewSongClick}\n      >\n        New song\n      </Button>\n    </div>\n  )\n}\n\nexport default SongList","import React, { useState } from 'react'\nimport { makeStyles, TextField, Button, Icon, Box } from '@material-ui/core'\nimport PropTypes from 'prop-types'\nimport songHelper from '../helpers/songHelper'\nimport { useDispatch } from 'react-redux'\nimport { editSection, deleteSection } from '../redux/songReducer'\n\nimport { SortableHandle } from 'react-sortable-hoc'\nimport { DragIndicator } from '@material-ui/icons'\n\nconst useStyles = makeStyles((theme) => ({\n  section: {\n    borderWidth: 2,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    borderColor: theme.palette.primary.main,\n    padding: 20,\n    marginBottom: 3,\n    overflow: 'auto',\n    whiteSpace: 'nowrap',\n    backgroundColor: '#fff'\n  },\n  normalViewRoot: {\n    marginTop: -12,\n    marginBottom: -15\n  },\n  line: {\n    marginTop: -5\n  },\n  editForm: {\n    marginBottom: 15\n  },\n  nameField: {\n    marginBottom: 10\n  },\n  buttonDiv: {\n    display: 'flex'\n  },\n  lineSubmitButton: {\n    marginTop: 10,\n    marginBottom: -25\n  },\n  deleteButton: {\n    marginTop: 10,\n    marginBottom: -25,\n    marginLeft: 'auto'\n  },\n  dragHandle: {\n    marginLeft: 'auto',\n    marginTop: 10,\n    marginBottom: -25,\n  }\n}))\n\nconst SongSection = ({ songId, section, editMode }) => {\n\n\n  // Local states for inputs only\n  const [name, setName] = useState(section.name)\n  const [linesString, setLinesString] = useState(songHelper.linesArrayToString(section.lines)) // Lines are a string while in state\n  const [deleteConfirm, setDeleteConfirm] = useState(false)\n\n  const classes = useStyles()\n  const dispatch = useDispatch()\n\n  const DragHandle = SortableHandle(() => <Box className={classes.dragHandle}> <Icon><DragIndicator /></Icon> </Box>)\n\n  const editView = () => {\n    return (\n      <form className={classes.editForm} onSubmit={handleEditSubmit}>\n        <TextField className={classes.nameField} label='Edit name' name='name' defaultValue={name} onChange={handleNameChange} />\n        <div>\n          <TextField\n            multiline\n            label='Lines'\n            name='lines'\n            rows={songHelper.lineCount(linesString)}\n            defaultValue={linesString}\n            onChange={handleLinesChange}\n            fullWidth={true}\n          />\n        </div>\n        <div className={classes.buttonDiv}>\n          <Button\n            className={classes.lineSubmitButton}\n            size='small'\n            color='primary'\n            variant='outlined'\n            type='submit'\n          >\n            Save\n          </Button>\n          <DragHandle />\n          <Button\n            className={classes.deleteButton}\n            size='small'\n            color='secondary'\n            variant='outlined'\n            onClick={handleDeleteClick}\n          >\n            {deleteConfirm ? 'Confirm deletion' : 'Delete'}\n          </Button>\n        </div>\n      </form>\n    )\n  }\n\n  const normalView = () => {\n    return (\n      <div className={classes.normalViewRoot}>\n        <h2>{section.name}</h2>\n        {section.lines.map((line, index) => {\n          return <p className={classes.line} key={index}>{line}</p>\n        })}\n      </div>\n    )\n  }\n\n  const handleEditSubmit = (event) => {\n    event.preventDefault()\n    console.log('Submitting name:', name)\n\n    const linesArray = songHelper.linesStringToArray(linesString)\n\n    const editedSection = { id: section.id, name: name, lines: linesArray }\n    dispatch(editSection(songId, editedSection))\n\n    const cleanedLines = songHelper.linesArrayToString(linesArray)\n    event.target.lines.value = cleanedLines\n    setLinesString(cleanedLines)\n    //setAlertIsError(false)\n    //setAlertMessage('Song edited')\n  }\n\n  const handleNameChange = (event) => {\n    setName(event.target.value)\n  }\n\n  const handleLinesChange = (event) => {\n    setLinesString(event.target.value)\n  }\n\n  const handleDeleteClick = (event) => {\n    event.preventDefault()\n    console.log('Delete button pressed!')\n    if (deleteConfirm) {\n      console.log('Delete for realz')\n      dispatch(deleteSection(songId, section))\n    } else {\n      setDeleteConfirm(true)\n    }\n  }\n\n  return (\n    <div className={classes.section}>\n      {editMode ? editView() : normalView()}\n    </div>\n  )\n}\n\nSongSection.propTypes = {\n  songId: PropTypes.number.isRequired,\n  section: PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    name: PropTypes.string,\n    lines: PropTypes.arrayOf(PropTypes.string)\n  }).isRequired,\n  editMode: PropTypes.bool.isRequired\n}\n\nexport default SongSection","import React from 'react'\nimport { makeStyles, Container } from '@material-ui/core'\nimport SongSection from './SongSection'\nimport { SortableContainer, SortableElement } from 'react-sortable-hoc'\nimport arrayMove from 'array-move'\nimport { useDispatch } from 'react-redux'\nimport { sortSections } from '../redux/songReducer'\n\nconst useStyles = makeStyles(() => ({\n  root: {\n\n  }\n}))\n\nconst SortableItem = SortableElement(({ section, song, editMode }) => {\n  return (\n    <SongSection\n      songId={song.id}\n      section={section}\n      editMode={editMode}\n    >\n    </SongSection>\n  )\n})\n\nconst SortableList = SortableContainer(({ song, editMode }) => {\n  return (\n    <Container maxWidth={false} align='left'>\n      {song.sections.map((section, index) => {\n        return (\n          <SortableItem\n            key={section.id}\n            index={index}\n            section={section}\n            song={song}\n            editMode={editMode}\n          />\n        )\n      })}\n    </Container>\n  )\n})\n\nconst SongSectionList = ({ song, editMode }) => {\n\n  const dispatch = useDispatch()\n  const classes = useStyles()\n\n  const handleSortEnd = ({ oldIndex, newIndex }) => {\n    const sortedSections = arrayMove(song.sections, oldIndex, newIndex)\n    dispatch(sortSections(song, sortedSections))\n  }\n\n  const renderSections = () => {\n    if (song.sections.length === 0) {\n      return (\n        <Container>\n          <h2>No sections</h2>\n        </Container>\n      )\n    }\n    return (\n      <SortableList\n        song={song}\n        editMode={editMode}\n        onSortEnd={handleSortEnd}\n        useDragHandle\n        useWindowAsScrollContainer\n      />\n    )\n  }\n\n  return (\n    renderSections()\n  )\n}\n\nexport default SongSectionList","import React, { useState } from 'react'\nimport { useParams, useHistory } from 'react-router-dom'\nimport { makeStyles, Container, Button, TextField, DialogTitle, DialogContent, DialogContentText, DialogActions, Dialog } from '@material-ui/core'\nimport { Add, DeleteForever } from '@material-ui/icons'\nimport PropTypes from 'prop-types'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { editTitle, addSection, deleteSong, saveSong, resetSong } from '../redux/songReducer'\nimport SongSectionList from './SongSectionList'\n\nconst useStyles = makeStyles(() => ({\n  root: {\n\n  },\n  menuContainer: {\n    marginBottom: 3\n  },\n  titleForm: {\n    margin: 15\n  },\n  addSectionButton: {\n    marginTop: 8\n  },\n  deleteSongButton: {\n    marginLeft: 'auto'\n  }\n}))\n\nconst Song = ({ setAlertMessage, setAlertIsError }) => {\n  const [editMode, setEditMode] = useState(false)\n  const [title, setTitle] = useState('')\n  const [delConfirmOpen, setDelConfirmOpen] = useState(false)\n  const [saveOpen, setSaveOpen] = useState(false)\n\n  const classes = useStyles()\n  const id = useParams().id\n  const dispatch = useDispatch()\n  const history = useHistory()\n\n  const song = useSelector((state) => state.find(s => s.id === Number(id)))\n\n  console.log('Song render:', song)\n\n  const renderTitle = () => {\n    if (editMode) {\n      return (\n        <form onSubmit={handleTitleSubmit} className={classes.titleForm}>\n          <TextField\n            label='Edit title'\n            defaultValue={title ? title : song.title}\n            onChange={handleTitleChange}\n          />\n        </form>\n      )\n    } else {\n      return (\n        <h1>{song.title}</h1>\n      )\n    }\n  }\n\n\n  const addSectionButton = () => {\n    if (editMode) {\n      return (\n        <Button\n          className={classes.addSectionButton}\n          variant='contained'\n          color='primary'\n          startIcon={<Add />}\n          onClick={handleAddSectionClick}\n        >\n          New section\n        </Button>\n      )\n    }\n    return (<div/>)\n  }\n\n  console.log('Delconfirmopen:', delConfirmOpen)\n\n  const deleteSongButton = () => {\n    if (editMode) {\n      return (\n        <Button\n          className={classes.deleteSongButton}\n          variant='contained'\n          color='secondary'\n          startIcon={<DeleteForever />}\n          onClick={() => setDelConfirmOpen(true)}\n        >\n          Delete song\n        </Button>\n      )\n    }\n    return (<div/>)\n  }\n\n  const deleteDialog = () => {\n    return (\n      <Dialog\n        open={delConfirmOpen}\n        onClose={() => setDelConfirmOpen(false)}\n      >\n        <DialogTitle>Delete this song?</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            Once deleted, this song cannot be restored (not even by discarding changes when exiting Edit Mode).\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleDeleteAgreeClick} color='secondary' variant='contained'>\n            Delete permanently\n          </Button>\n          <Button onClick={() => setDelConfirmOpen(false)} variant='contained'>\n            Cancel\n          </Button>\n        </DialogActions>\n      </Dialog>\n    )\n  }\n\n  const saveDialog = () => {\n    return (\n      <Dialog\n        open={saveOpen}\n        onClose={() => setSaveOpen(false)}\n      >\n        <DialogTitle>Save changes?</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            Save or discard the changes you have made.\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleSaveAgreeClick} color='primary' variant='contained'>\n            Save changes\n          </Button>\n          <Button onClick={handleSaveDiscardClick} color='secondary' variant='contained'>\n            Discard changes\n          </Button>\n          <Button onClick={() => setSaveOpen(false)} variant='contained'>\n            Cancel\n          </Button>\n        </DialogActions>\n      </Dialog>\n    )\n  }\n\n  const handleEditButtonClick = () => {\n    editMode ? handleEditModeExitClick() : setEditMode(true)\n  }\n\n  const handleEditModeExitClick = () => {\n    console.log('Exiting edit mode')\n    setSaveOpen(true)\n  }\n\n  const handleSaveAgreeClick = () => {\n    console.log('Saving!')\n    setSaveOpen(false)\n    setEditMode(false)\n    dispatch(saveSong(song))\n  }\n\n  const handleSaveDiscardClick = () => {\n    console.log('Discarding changes!')\n    setSaveOpen(false)\n    setEditMode(false)\n    dispatch(resetSong(song))\n  }\n\n  const handleTitleChange = (event) => {\n    console.log(event.target.value)\n    setTitle(event.target.value)\n  }\n\n  const handleTitleSubmit = (event) => {\n    event.preventDefault()\n    dispatch(editTitle(song, title))\n    setAlertIsError(false)\n    setAlertMessage('Song title changed to: ' + title)\n  }\n\n  const handleAddSectionClick = () => {\n    console.log('Add new section!')\n    dispatch(addSection(song))\n  }\n\n  const handleDeleteAgreeClick = () => {\n    console.log('Deleting song here')\n    dispatch(deleteSong(song))\n    history.push('/songs/')\n  }\n\n  if (song) {\n    return (\n      <div className={classes.root}>\n        {renderTitle()}\n        <div>\n          <Container align='right' maxWidth={false} className={classes.menuContainer}>\n            <Button\n              color='primary'\n              variant='contained'\n              onClick={handleEditButtonClick}\n            >\n              {editMode ? 'Exit edit mode' : 'Edit mode'}\n            </Button>\n          </Container>\n          <SongSectionList song={song} editMode={editMode} />\n        </div>\n        <Container maxWidth={false}>\n          {addSectionButton()}\n        </Container>\n        <Container align='right' maxWidth={false}>\n          {deleteSongButton()}\n        </Container>\n        {deleteDialog()}\n        {saveDialog()}\n      </div>\n    )\n  } else {\n    return (\n      <div>\n        <h1>Loading</h1>\n        <p>Check the url if it takes too long</p>\n      </div>\n    )\n  }\n}\n\nSong.propTypes = {\n  setAlertIsError: PropTypes.func.isRequired,\n  setAlertMessage: PropTypes.func.isRequired\n}\n\nexport default Song","import React from 'react'\nimport Snackbar from '@material-ui/core/Snackbar'\nimport Alert from '@material-ui/lab/Alert'\nimport PropTypes from 'prop-types'\n\n//const Alert = (props) => {\n//  return <MuiAlert elevation={6} variant='filled' {...props} />\n//}\n\nconst SnackbarAlert = ({ message, isError, handleClose }) => {\n  return (\n    <div>\n      <Snackbar open={message !== ''} autoHideDuration={5000} onClose={handleClose}>\n        <Alert\n          variant='filled'\n          onClose={handleClose}\n          severity={isError ? 'error' : 'success'}\n        >\n          {message}\n        </Alert>\n      </Snackbar>\n    </div>\n  )\n}\n\nSnackbarAlert.propTypes = {\n  message: PropTypes.string.isRequired,\n  isError: PropTypes.bool.isRequired,\n  handleClose: PropTypes.func.isRequired\n}\n\nexport default SnackbarAlert","import React, { useState, useEffect } from 'react'\nimport NavBar from './components/NavBar'\nimport { makeStyles, Container } from '@material-ui/core'\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom'\nimport SongList from './components/SongList'\nimport Song from './components/Song'\nimport SnackbarAlert from './components/SnackbarAlert'\nimport { initializeSongs } from './redux/songReducer'\nimport { useDispatch } from 'react-redux'\n\nconst useStyles = makeStyles(() => ({\n  mainContainer: {\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 20\n  },\n  contentContainer: {\n\n  }\n}))\n\nconst App = () => {\n  console.log('App render')\n  const [alertMessage, setAlertMessage] = useState('')\n  const [alertIsError, setAlertIsError] = useState(false)\n  //const [open, setOpen] = useState(false)\n\n  const classes = useStyles()\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    console.log('App effect')\n    dispatch(initializeSongs())\n  }, [dispatch])\n\n  const handleAlertClose = (event, reason) => {\n    if (reason === 'clickaway') return\n\n    setAlertMessage('')\n  }\n\n  return (\n    <>\n      <Router>\n        <NavBar/>\n        <Container maxWidth={false} className={classes.mainContainer}>\n          <Container maxWidth={false} align='center' className={classes.contentContainer}>\n            <Switch>\n              <Route path='/songs/:id'>\n                <Song\n                  setAlertMessage={setAlertMessage}\n                  setAlertIsError={setAlertIsError}\n                />\n              </Route>\n              <Route path='/songs/'>\n                <SongList/>\n              </Route>\n              <Route path='/'><p>Welcome</p></Route>\n            </Switch>\n          </Container>\n          <SnackbarAlert\n            message={alertMessage}\n            isError={alertIsError}\n            handleClose={handleAlertClose}\n          />\n        </Container>\n      </Router>\n    </>\n  )\n}\n\nexport default App\n","import { createStore, applyMiddleware } from 'redux'\nimport thunk from 'redux-thunk'\nimport { composeWithDevTools } from 'redux-devtools-extension'\n\nimport songReducer from './songReducer'\n\nconst composeEnhancers = composeWithDevTools({ trace: true })\n\nconst store = createStore(\n  songReducer,\n  composeEnhancers(\n    applyMiddleware(thunk)\n  )\n)\n\nexport default store","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport { CssBaseline } from '@material-ui/core'\nimport { Provider } from 'react-redux'\nimport store from './redux/store'\n\nReactDOM.render(\n  //<React.StrictMode> // MAKES EVERYTHING RENDER TWICE!\n  <CssBaseline>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </CssBaseline>,\n  //</React.StrictMode>\n  document.getElementById('root')\n)\n"],"sourceRoot":""}